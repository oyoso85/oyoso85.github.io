## Context

신규 프로젝트로, 아동용 사칙연산 학습 게임 웹 앱을 처음부터 구축한다. 빌드 도구나 프레임워크 없이 순수 HTML/CSS/JavaScript로 구현하여 별도 설치 과정 없이 브라우저에서 바로 실행할 수 있도록 한다.

## Goals / Non-Goals

**Goals:**
- 단일 HTML 파일(+ CSS/JS 분리)로 구성하여 바로 실행 가능한 웹 앱 제공
- 사칙연산 4종 × 난이도 10단계의 문제 생성 로직 구현
- 아동 친화적인 UI (큰 글씨, 큰 버튼, 명확한 색상)
- 문제 풀이 흐름: 선택 → 문제 풀기 → 채점 결과
- localStorage 기반 점수 이력 관리

**Non-Goals:**
- 서버 사이드 로직이나 데이터베이스
- 사용자 인증/로그인
- 모바일 네이티브 앱
- 멀티플레이어 기능

## Decisions

### 1. 기술 스택: 순수 HTML/CSS/JavaScript (빌드 도구 없음)
- **선택 이유**: 외부 의존성 없이 `index.html`을 브라우저에서 열면 바로 동작. 아동용 학습 앱 특성상 복잡한 상태 관리가 필요 없음.
- **대안**: React/Vue 등 프레임워크 → 학습 앱에 비해 과도한 복잡성, 빌드 과정 필요.

### 2. 파일 구조: HTML/CSS/JS 분리
```
index.html          - 메인 HTML (모든 화면의 컨테이너)
css/style.css       - 스타일
js/app.js           - 앱 진입점, 화면 전환 로직
js/problems.js      - 문제 생성 로직
js/storage.js       - localStorage 점수 관리
```
- **선택 이유**: 관심사 분리로 유지보수 용이. 단일 파일 대비 가독성 향상.

### 3. 화면 전환: SPA 방식 (div show/hide)
- `index.html`에 모든 화면을 `<section>`으로 배치하고, JavaScript로 활성 화면만 표시.
- **선택 이유**: 라우터 라이브러리 불필요, 단순하고 빠른 전환.
- **대안**: 다중 HTML 파일 → 페이지 간 상태 전달이 복잡해짐.

### 4. 화면 구성
| 화면 ID | 설명 |
|---------|------|
| `screen-home` | 사칙연산 선택 (더하기/빼기/곱하기/나누기) |
| `screen-level` | 난이도 선택 (1~10) |
| `screen-quiz` | 문제 풀이 (한 문제씩, 이전/다음, 진행률) |
| `screen-result` | 채점 결과 |
| `screen-history` | 최근 점수 이력 |

### 5. 문제 생성: 연산별 분기 + 난이도별 범위 제약
- 더하기: proposal에 정의된 난이도 1~10 그대로 적용.
- 빼기: 더하기의 역연산으로 생성 (결과가 음수가 되지 않도록 큰 수에서 작은 수를 뺌).
- 곱하기: 난이도별로 자릿수 조합 조정 (1: 한자리×한자리, ... 10: 세자리×한자리 등).
- 나누기: 곱하기의 역연산으로 생성 (나누어떨어지는 문제만 출제).
- 각 난이도마다 20문제를 세션 시작 시 랜덤 생성.

### 6. 점수 저장: localStorage
- 키: `numberblock_scores`
- 값: JSON 배열, 최대 20개 유지 (FIFO)
- 항목: `{ operation, level, score, total, date }`

## Risks / Trade-offs

- **[localStorage 용량]** → 20개 점수 레코드는 수 KB 수준으로 문제 없음.
- **[빌드 도구 없음]** → ES 모듈(`type="module"`)을 사용하여 JS 파일 간 import/export 처리. 로컬 파일 시스템에서 직접 열면 CORS 제한이 있을 수 있으므로 간단한 로컬 서버 사용 안내 또는 인라인 스크립트 방식 고려.
- **[나누기 난이도 매핑]** → 더하기 난이도 정의를 나누기에 직접 대응시키기 어려우므로, 곱하기 결과를 역으로 활용하여 자연스러운 난이도 곡선 유지.
